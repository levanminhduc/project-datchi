FROM node:22-alpine

WORKDIR /app

COPY package.json ./
RUN npm install

COPY tsconfig.json tsconfig.node.json tsconfig.server.json ./
COPY server/ ./server/

EXPOSE 3000

CMD ["npx", "tsx", "server/index.ts"]
