## 2026-01-26 Backend Infrastructure

**Context**: Creating Hono backend with Supabase for employee management
**Pattern**: Use `dotenv.config()` at the start of server files before accessing environment variables
**Reason**: Node.js environment differs from Vite - process.env needs explicit loading via dotenv

---

## 2026-01-26 API Response Structure

**Context**: Implementing CRUD API endpoints
**Pattern**: All API responses use structured format `{ data, error, message }` with Vietnamese error messages
**Reason**: Consistent error handling and i18n support for Vietnamese UI

---

## 2026-01-26 Duplicate Check Before Insert

**Context**: Creating employee with unique employee_code constraint
**Pattern**: Check for existing record with same unique field before insert, return 409 Conflict with specific message
**Reason**: Better UX than relying on database constraint errors - provides clear Vietnamese feedback "Mã nhân viên đã tồn tại"

---

## 2026-01-26 Quasar Notifications

**Context**: Creating Employee Management page with user feedback
**Pattern**: Use `$q.notify()` from Quasar for notifications, not custom `q-snackbar` component (doesn't exist)
**Reason**: Quasar uses the Notify plugin, not a standalone snackbar component - avoids template errors

---

## 2026-01-26 Responsive Table Columns

**Context**: Responsive employee data table
**Pattern**: Define separate column arrays for mobile/desktop and use `$q.screen.lt.sm` to switch between them
**Reason**: Simpler than CSS-only approach, hides less important columns on mobile for better UX

---

## 2026-01-26 Quasar Virtual Scroll for Large Datasets

**Context**: Implementing virtual scroll for 1630+ employee records
**Pattern**: For q-table with virtual-scroll, MUST set fixed height container (`style="height: calc(100vh - 200px)"`) and use `:rows-per-page-options="[0]"` to show all rows
**Reason**: Virtual scroll requires fixed height to calculate visible rows. Without it, table won't virtualize properly.

---

## 2026-01-26 Quasar q-popup-edit for Inline Editing

**Context**: Implementing inline cell editing in q-table
**Pattern**: Use `@save="(val, initialVal) => handler()"` callback to get both new and original values; store `originalValue` for rollback on API failure
**Reason**: v-model applies changes immediately (optimistic update), but if API fails you need original value to revert the cell

---
